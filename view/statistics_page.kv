<StatsPage>:
    MDBoxLayout:
        orientation:"vertical"
        padding: dp(20)  # marge autour des enfants
        spacing: dp(10)  # espace entre enfants

        MDLabel:
            size_hint_y:0.1
            text: "Vos statistiques Globales"
            halign: "left"
            text_color: 2/255,2/255,88/255,1
            font_style: "OutfitBlack"
            role: "medium"
            bold: True
        MDBoxLayout:
            size_hint_y:0.15
            spacing:dp(7)
            padding:dp(7)
            MDLabel:

                size_hint_y:0.05
                text:"filtrer par"
                font_style:"Title"
                role:"medium"
            MDButton:
                theme_bg_color:"Custom"
                md_bg_color:174/255,212/255,232/255,1
                radius:[15]
                on_release:
                    root.open_time_picker_horizontal("1", "10")
                MDButtonText:
                    text:"heure"

            MDButton:
                id:date_button
                theme_bg_color:"Custom"
                md_bg_color:174/255,212/255,232/255,1
                radius:[15]
                on_release:
                    root.show_date_picker()
                MDButtonText:
                    text:"Date"

            MDButton:
                theme_bg_color:"Custom"
                md_bg_color:174/255,212/255,232/255,1
                radius:[15]
                on_release:
                    root.show_modal_date_picker()
                MDButtonText:
                    text:"Période"

            MDButton:
                theme_bg_color:"Custom"
                md_bg_color:174/255,212/255,232/255,1
                radius:[15]
                on_release:
                    root.show_year()
                MDButtonText:
                    text:"Mois"
            MDButton:
                theme_bg_color:"Custom"
                md_bg_color:174/255,212/255,232/255,1
                radius:[15]
                MDButtonText:
                    text:"Année"
        MDBoxLayout:
            padding: dp(20)
            spacing:dp(20)
            size_hint_y: 0.20
            orientation:"horizontal"

            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    radius: [20,20,20,20]
                    source: "images/dash.jpg"
                    pos: self.pos
                    size: self.size
            MDCard:
                style: "elevated"
                theme_bg_color: "Custom"
                md_bg_color:1,1,1,1
                size_hint_x:0.30
                radius: [20, 20, 20, 20]
                elevation:10
                BoxLayout:
                    orientation:'vertical'
                    MDListItem:
                        theme_bg_color: "Custom"
                        md_bg_color: 0.831, 0.855, 0.918, 1  # Equivalent to 212, 218, 234
                        size_hint_y: 0.3
                        radius:[20]
                        spacing:dp(10)
                        padding:dp(10)
                        pos_hint: {"y": 0.6}
                        halign:"center"

                        MDListItemLeadingIcon:
                            icon: "cash"
                            icon_color:245/255,189/255,32/255,1

                        MDListItemHeadlineText:
                            text: "somme total gagnée"
                            text_color:245/255,189/255,32/255,1
                    Label:
                        id:somme
                        text:root.somme_total_gagnee
                        color:0,.65,0,1
            MDCard:
                style: "elevated"
                theme_bg_color: "Custom"
                size_hint_x:0.30
                radius: [20, 20, 20, 20]
                elevation:10
                md_bg_color:1,1,1,1
                BoxLayout:
                    orientation:'vertical'
                    MDListItem:
                        theme_bg_color: "Custom"
                        md_bg_color: 0.831, 0.855, 0.918, 1  # Equivalent to 212, 218, 234
                        size_hint_y: 0.3
                        radius:[20]
                        spacing:dp(10)
                        padding:dp(10)
                        pos_hint: {"y": 0.6}
                        halign:"center"

                        MDListItemLeadingIcon:
                            icon: "sale"
                            icon_color:245/255,189/255,32/255,1

                        MDListItemHeadlineText:
                            text: "total de ventes"
                            text_color:245/255,189/255,32/255,1
                    Label:
                        text:root.total_de_ventes
                        color:0,0,0,1

            MDCard:
                style: "elevated"
                theme_bg_color: "Custom"
                size_hint_x:0.26
                radius: [20, 20, 20, 20]
                elevation:10
                md_bg_color:212/255,218/255,234/255,1
                BoxLayout:
                    orientation:'vertical'
                    MDListItem:
                        theme_bg_color: "Custom"
                        md_bg_color: 0.831, 0.855, 0.918, 1  # Equivalent to 212, 218, 234
                        size_hint_y: 0.3
                        radius:[20]
                        spacing:dp(10)
                        padding:dp(10)
                        pos_hint: {"y": 0.6}
                        halign:"center"

                        MDListItemLeadingIcon:
                            icon: "package-variant"
                            icon_color:245/255,189/255,32/255,1

                        MDListItemHeadlineText:
                            text: "Total de depenses"
                            text_color:245/255,189/255,32/255,1
                    Label:
                        text:root.produits_en_rupture
                        color: .1,0,0,1

        StatDeVenteGlobal:
            id:statedeventeglobal
            style: "elevated"
            theme_bg_color: "Custom"
            size_hint_y: 0.55
            size_hint_x:1
            radius:[20]
            md_bg_color:1,1,1,1
            on_parent:self.show_stat_global()


    MDBoxLayout:
        orientation:"vertical"
        size_hint_x: 0.65
        spacing: dp(20)
        padding: dp(20)
        MDCard:
            style: "elevated"
            theme_bg_color: "Custom"
            size_hint_x: 1
            size_hint_y:0.45
            md_bg_color: 168,205,230,255
            radius: [20]
            elevation: 10
            BoxLayout:
                orientation:'vertical'
                MDListItem:
                    theme_bg_color: "Custom"
                    md_bg_color: 186/255,169/255,155/255,1
                    size_hint_y: 0.1
                    radius:[20,20,0,0]
                    spacing:dp(10)
                    padding:dp(10)
                    pos_hint: {"y": 0.9}
                    halign:"center"

                    MDListItemLeadingIcon:
                        icon: "sale"

                    MDListItemHeadlineText:
                        text: "Pourcentage des depenses"
                PourcentageDepense:
                    id:pourcentagedepense
                    size_hint:1,1
                    on_parent:self.show_pourcentage_depense()
        MDCard:
            style: "elevated"
            theme_bg_color: "Custom"
            size_hint_x: 1
            size_hint_y:0.55
            md_bg_color: 168,205,230,255
            radius: [20]
            elevation: 10
            BoxLayout:
                orientation:'vertical'
                MDListItem:
                    theme_bg_color: "Custom"
                    md_bg_color: 186/255,169/255,155/255,1
                    size_hint_y: 0.2
                    radius:[20,20,0,0]
                    spacing:dp(10)
                    padding:dp(10)
                    pos_hint: {"y": 0.8}
                    halign:"center"

                    MDListItemLeadingIcon:
                        icon: "sale"

                    MDListItemHeadlineText:
                        text: "pourcentage de vente des produits"
                PourcentagePV:
                    id:pourcentagepv
                    size_hint:1,1
                    on_parent:self.show_pourcentage_pv()

<MyBoxLayout@BoxLayout>:
    Button:
        text:'A'
    Button:
        text:'A'
    Button:
        text:'A'
    Button:
        text:'A'
